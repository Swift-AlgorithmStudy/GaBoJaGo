# Chap4. Trees

νΈλ¦¬λ” λ§¤μ° μ¤‘μ”ν• λ°μ΄ν„° κµ¬μ΅°μ…λ‹λ‹¤. λ‹¤μκ³Ό κ°™μ€ μ†ν”„νΈμ›¨μ–΄ κ°λ°μ μ—¬λ¬ μΈ΅λ©΄μ—μ„ μ‚¬μ©λ©λ‹λ‹¤

- κ³„μΈµ κµ¬μ΅°(hierarchical relationship)λ¥Ό ν‘ν„ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.
- μ •λ ¬λ λ°μ΄ν„°(sorted data)λ¥Ό κ΄€λ¦¬ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.
- λΉ λ¥Έ κ²€μƒ‰ μ‘μ—…(fast lookup operations)μ„ κ°€λ¥ν•κ² ν•©λ‹λ‹¤.
<br></br>

## 1. μ©μ–΄

- Node
    - μ—°κ²°λ¦¬μ¤νΈμ²λΌ νΈλ¦¬λ” λ…Έλ“λ΅ κµ¬μ„±λμ–΄ μμµλ‹λ‹¤.
    - κ° λ…Έλ“λ” λ°μ΄ν„°λ¥Ό κ°€μ§€κ³  μμΌλ©° μμ‹ λ…Έλ“λ¥Ό μ¶”μ ν•©λ‹λ‹¤.
- Parent and child
    - μµμƒμ„ λ…Έλ“λ¥Ό μ μ™Έν• λ¨λ“  λ…Έλ“λ” λ°”λ΅ μ„μ— μλ” ν•λ‚μ λ…Έλ“μ— μ—°κ²°λ©λ‹λ‹¤. κ·Έ λ…Έλ“λ¥Ό λ¶€λ¨ λ…Έλ“(parent node)λΌκ³  ν•©λ‹λ‹¤. κ·Έκ²ƒκ³Ό μ§μ ‘μ μΌλ΅ μ—°κ²°λ μ•„λμ½μ λ…Έλ“λ“¤μ„ μμ‹ λ…Έλ“(child nodes)λΌκ³  ν•©λ‹λ‹¤. νΈλ¦¬μ—μ„ λ¨λ“  μμ‹ λ…Έλ“λ” μ •ν™•ν ν•λ‚μ λ¶€λ¨λ¥Ό κ°€μ§€κ³  μμµλ‹λ‹¤.
- Root
    - νΈλ¦¬μ μµμƒλ‹¨ λ…Έλ“λ” νΈλ¦¬μ λ£¨νΈλΌκ³  λ¶λ¦½λ‹λ‹¤. λ¶€λ¨κ°€ μ—†λ” μ μΌν• λ…Έλ“μ…λ‹λ‹¤.
- Leaf
    - μμ‹μ΄ μ—†λ” λ…Έλ“λ” Leafμ…λ‹λ‹¤.
    
<br></br>
## 2. κµ¬ν„

```swift
//TreeNode.swift
public class TreeNode<T> {
  public var value: T
  public var children: [TreeNode] = []

  public init(_ value: T) {
    self.value = value
  }
	//childλ…Έλ“λ¥Ό λ…Έλ“μ— μ¶”κ°€ν•λ” λ©”μ„λ“
	public func add(_ child: TreeNode) {
		children.append(child)
	}
}
```

κ° λ…Έλ“λ” κ°’μ„ λ‹΄λ‹Ήν•λ©° λ°°μ—΄μ„ μ‚¬μ©ν•μ—¬ λ¨λ“  μμ‹ λ…Έλ“μ— λ€ν• μ°Έμ΅°λ¥Ό λ³΄μ ν•©λ‹λ‹¤.

> ν΄λμ¤ μ ν•μ„ μ‚¬μ©ν•μ—¬ TreeNodeλ¥Ό λ‚νƒ€λ‚΄λ” κ²ƒμ€ κ°’μ μλ―Έλ΅ (value semantics)μ„ μƒλ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤. λ°λ©΄μ—, μ΄κ²ƒμ€ λ‚μ¤‘μ— μ‚¬μ©ν•  λ…Έλ“μ— λ€ν• μ°Έμ΅°λ¥Ό λ§λ“λ” κ²ƒμ΄ κ°„λ‹¨ν•΄μ§€λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.
> 
<br></br>
## 3. νΈλ¦¬ μν μ•κ³ λ¦¬μ¦

λ°°μ—΄μ΄λ‚ μ—°κ²° λ¦¬μ¤νΈμ™€ κ°™μ€ μ„ ν• μ»¬λ ‰μ…μ„ λ°λ³µν•λ” κ²ƒμ€ κ°„λ‹¨ν•©λ‹λ‹¤. μ„ ν• μ»¬λ ‰μ…μ€ λ…ν™•ν• μ‹μ‘μ κ³Ό λμ μ„ κ°€μ§€κ³  μμµλ‹λ‹¤. ν•μ§€λ§ νΈλ¦¬λ” μΆ€ λ” λ³µμ΅ν•©λ‹λ‹¤.

μ„λ΅ λ‹¤λ¥Έ νΈλ¦¬μ™€ λ¬Έμ μ— λ€ν•΄ μ—¬λ¬ μ „λµμ΄ μμµλ‹λ‹¤.

### κΉμ΄ μ°μ„  μν(depth-first traversal)

μ΄ κΈ°μ μ€ λ£¨νΈμ—μ„ μ‹μ‘ν•μ—¬ λ°±νΈλν‚Ήν•κΈ° μ „κΉμ§€ μµλ€ν• κΉμ€ λ…Έλ“λ¥Ό λ°©λ¬Έν•λ” κΈ°λ²•μ…λ‹λ‹¤.

```swift
extension TreeNode {
  public func forEachDepthFirst(visit: (TreeNode) -> Void) {
    visit(self)
    children.forEach {
      $0.forEachDepthFirst(visit: visit)
    }
  }
}
```

μ΄ μ½”λ“λ” μ¬κ·€λ¥Ό μ‚¬μ©ν•μ—¬ λ‹¤μ λ…Έλ“λ¥Ό μ²λ¦¬ν•©λ‹λ‹¤.

μ¬κ·€λ΅ κµ¬ν„λλ” κ²ƒμ„ μ›ν•μ§€ μ•λ”λ‹¤λ©΄ μμ‹ λ§μ μ¤νƒμ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

### Level-order traversal

λ…Έλ“μ κΉμ΄μ— λ”°λΌ νΈλ¦¬μ κ° λ…Έλ“λ¥Ό λ°©λ¬Έν•λ” κΈ°μ μ…λ‹λ‹¤.

```swift
extension TreeNode {
  public func forEachLevelOrder(visit: (TreeNode) -> Void) {
    visit(self)
    var queue = Queue<TreeNode>()
    children.forEach { queue.enqueue($0) }
    while let node = queue.dequeue() {
      visit(node)
      node.children.forEach { queue.enqueue($0) }
    }
  }
}
```

λ…Έλ“λ¥Ό μ¬λ°”λ¥Έ λ λ²¨ μμ„λ€λ΅ λ°©λ¬Έν•λ„λ΅ ν(μ¤νƒx)λ¥Ό μ‚¬μ©ν–λ‹¤λ” μ μ— μ μν•μ„Έμ”. 

λ‹¨μν• μ¬κ·€(μ•”λ¬µμ μΌλ΅ μ¤νƒμ„ μ‚¬μ©ν•λ”)λ” μ‘λ™ν•μ§€ μ•μ•μ„ κ²ƒμ…λ‹λ‹¤!

### Search

μ΄λ―Έ λ¨λ“  λ…Έλ“λ¥Ό λ°λ³µν•λ” λ©”μ„λ“κ°€ μμΌλ―€λ΅ κ²€μƒ‰ μ•κ³ λ¦¬μ¦μ„ κµ¬μ¶•ν•λ” λ° μ‹κ°„μ΄ λ§μ΄ κ±Έλ¦¬μ§€ μ•μ„ κ²ƒμ…λ‹λ‹¤.

```swift
extension TreeNode where T: Equatable {
  public func search(_ value: T) -> TreeNode? {
    var result: TreeNode?
    forEachLevelOrder { node in
      if node.value == value {
        result = node
      }
    }
    return result
  }
}
```
<br></br>
## π—οΈΒ Key points

- νΈλ¦¬λ” μ—°κ²° λ¦¬μ¤νΈμ™€ μ μ‚¬ν•μ§€λ§ νΈλ¦¬ λ…Έλ“λ” λ§μ€ μμ‹ λ…Έλ“μ— μ—°κ²°λ  μ μμµλ‹λ‹¤. λ°λ©΄, μ—°κ²° λ¦¬μ¤νΈ λ…Έλ“λ” λ‹¨ ν•λ‚μ λ‹¤μ λ…Έλ“μ—λ§ μ—°κ²°λ  μ μμµλ‹λ‹¤.
- λ£¨νΈ λ…Έλ“λ¥Ό μ μ™Έν• λ¨λ“  νΈλ¦¬ λ…Έλ“λ” μ •ν™•ν ν•λ‚μ λ¶€λ¨ λ…Έλ“λ¥Ό κ°–μµλ‹λ‹¤.
- λ£¨νΈ λ…Έλ“λ” λ¶€λ¨ λ…Έλ“κ°€ μ—†μµλ‹λ‹¤.
- λ¦¬ν”„ λ…Έλ“λ” μμ‹ λ…Έλ“κ°€ μ—†μµλ‹λ‹¤.
- κΉμ΄ μ°μ„  μν λ° λ λ²¨ μμ„ μνμ™€ κ°™μ€ μν λ°©λ²•μ€ μΌλ° νΈλ¦¬μ—λ§ μ μ©λλ” κ²ƒμ€ μ•„λ‹™λ‹λ‹¤. λ‹¤λ¥Έ μΆ…λ¥μ νΈλ¦¬μ—μ„λ„ μ‘λ™ν•μ§€λ§ νΈλ¦¬κ°€ κµ¬μ΅°ν™”λλ” λ°©μ‹μ— λ”°λΌ κµ¬ν„ λ°©λ²•μ΄ μ•½κ°„ λ‹¤λ¥Ό μ μμµλ‹λ‹¤.
