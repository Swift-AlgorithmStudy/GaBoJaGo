# Chap17. Graph

**Q. ì†Œì…œ ë„¤íŠ¸ì›Œí¬ëŠ” ì „ ì„¸ê³„ì˜ ì €ë ´í•œ í•­ê³µí¸ì„ ì˜ˆì•½í•˜ëŠ” ê²ƒê³¼ ì–´ë–¤ ê³µí†µì ì´ ìˆì„ê¹Œìš”?** 

ì´ ë‘ ì‹¤ì œ ëª¨ë¸ì„ ê·¸ë˜í”„ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

**Q. ê·¸ë˜í”„ë€?**

ì¸í„°ë„·ì˜ ì›¹ í˜ì´ì§€, ìƒˆì˜ ì´ë™ íŒ¨í„´, ì›ì í•µì˜ ì–‘ì„±ì ë“± ë‹¤ì–‘í•œ ê²ƒì„ ëª¨ë¸ë§í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ë°ì´í„° êµ¬ì¡°ì´ë‹¤.

ê·¸ë˜í”„ëŠ” ë¬¼ì²´ ê°„ì˜ ê´€ê³„ë¥¼ í¬ì°©í•˜ëŠ” ë°ì´í„° êµ¬ì¡°ë¡œ ê°€ì¥ìë¦¬ë¡œ ì—°ê²°ëœ ì •ì ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

ì•„ë˜ ê·¸ë˜í”„ì˜ ì›ì€ ì •ì ì„ ë‚˜íƒ€ë‚´ë©°, ê°€ì¥ìë¦¬ëŠ” ê·¸ê²ƒë“¤ì„ ì—°ê²°í•˜ëŠ” ì„ ì´ë‹¤.

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/23d3975e-5d84-49e5-8696-d3e346e806da)

## 1. Weighted graphs ê°€ì¤‘ ê·¸ë˜í”„

ê°€ì¤‘ ê·¸ë˜í”„ì—ì„œ, ëª¨ë“  ê°€ì¥ìë¦¬ì—ëŠ” ì´ ê°€ì¥ìë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¹„ìš©ì„ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¤‘ì¹˜ê°€ ìˆë‹¤. ì´ ê°€ì¤‘ì¹˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë‘ ì •ì  ì‚¬ì´ì—ì„œ ê°€ì¥ ì €ë ´í•˜ê±°ë‚˜ ê°€ì¥ ì§§ì€ ê²½ë¡œë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1) Directed graphs ë°©í–¥ ê·¸ë˜í”„

ê°€ì¥ìë¦¬ì— ê°€ì¤‘ì¹˜ë¥¼ í• ë‹¹í•  ë¿ë§Œ ì•„ë‹ˆë¼, ë‹¹ì‹ ì˜ ê·¸ë˜í”„ëŠ” ë°©í–¥ì„ ê°€ì§ˆ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë°©í–¥ ê·¸ë˜í”„ëŠ” ê°€ì¥ìë¦¬ê°€ í•œ ë°©í–¥ìœ¼ë¡œë§Œ íš¡ë‹¨ì„ í—ˆìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íš¡ë‹¨ì— ë” ì œí•œì ì´ë‹¤. ì•„ë˜ ë‹¤ì´ì–´ê·¸ë¨ì€ ë°©í–¥ ê·¸ë˜í”„ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/35f4c875-aadc-4865-affb-16e87a1c5df0)

ë‹¹ì‹ ì€ ì´ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ë§ì€ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- í™ì½©ì—ì„œ ë„ì¿„ë¡œ ê°€ëŠ” ë¹„í–‰ê¸°ê°€ ìˆë‹¤.
- ìƒŒí”„ë€ì‹œìŠ¤ì½”ì—ì„œ ë„ì¿„ë¡œ ê°€ëŠ” ì§í•­í¸ì€ ì—†ìŠµë‹ˆë‹¤.
- ì‹±ê°€í¬ë¥´ì™€ ë„ì¿„ ê°„ ì™•ë³µ í‹°ì¼“ì„ ì‚´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë„ì¿„ì—ì„œ ìƒŒí”„ë€ì‹œìŠ¤ì½”ë¡œ ê°€ëŠ” ë°©ë²•ì€ ì—†ë‹¤.

### 2) Undirected graphs ë¬´ë°©í–¥ ê·¸ë˜í”„

ë¬´ë°©í–¥ ê·¸ë˜í”„ë¥¼ ëª¨ë“  ëª¨ì„œë¦¬ê°€ ì–‘ë°©í–¥ì¸ ë°©í–¥ ê·¸ë˜í”„ë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë°©í–¥ì´ ì—†ëŠ” ê·¸ë˜í”„ì—ì„œ:

- ì—°ê²°ëœ ë‘ ì •ì ì€ ì•ë’¤ë¡œ ê°€ëŠ” ê°€ì¥ìë¦¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
- ê°€ì¥ìë¦¬ì˜ ë¬´ê²ŒëŠ” ì–‘ë°©í–¥ì— ì ìš©ëœë‹¤.

### 3) Common operations

```swift
// Graph.swift
public enum EdgeType {
  case directed
  case undirected
}

public protocol Graph {
  associatedtype Element

  func createVertex(data: Element) -> Vertex<Element>
  func addDirectedEdge(from source: Vertex<Element>,
                       to destination: Vertex<Element>,
                       weight: Double?)
  func addUndirectedEdge(between source: Vertex<Element>,
                         and destination: Vertex<Element>,
                         weight: Double?)
  func add(_ edge: EdgeType, from source: Vertex<Element>,
                             to destination: Vertex<Element>,
                             weight: Double?)
  func edges(from source: Vertex<Element>) -> [Edge<Element>]
  func weight(from source: Vertex<Element>,
              to destination: Vertex<Element>) -> Double?
}
```

ì´ í”„ë¡œí† ì½œì€ ê·¸ë˜í”„ì˜ ì¼ë°˜ì ì¸ ì‘ì—…ì„ ì„¤ëª…í•©ë‹ˆë‹¤:

- createVertex(data:): ì •ì ì„ ë§Œë“¤ê³  ê·¸ë˜í”„ì— ì¶”ê°€í•©ë‹ˆë‹¤.
- addDirectedEdge(from:to:weight:): ë‘ ì •ì  ì‚¬ì´ì— ì§€ì‹œëœ ê°€ì¥ìë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
- addUndirectedEdge(between:and:weight:): ë‘ ì •ì  ì‚¬ì´ì— ë¹„ë°©í–¥(ë˜ëŠ” ì–‘ë°©í–¥) ê°€ì¥ìë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
- add(from:to:): EdgeTypeì„ ì‚¬ìš©í•˜ì—¬ ë‘ ì •ì  ì‚¬ì´ì— ë°©í–¥ ë˜ëŠ” ë¹„ë°©í–¥ ê°€ì¥ìë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
- edges(from:): íŠ¹ì • ì •ì ì—ì„œ ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
- weight(from:to:): ë‘ ì •ì  ì‚¬ì´ì˜ ê°€ì¥ìë¦¬ì˜ ë¬´ê²Œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

ë‹¤ìŒ ì„¹ì…˜ì—ì„œ, ë‹¹ì‹ ì€ ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì´ í”„ë¡œí† ì½œì„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤:

- ì¸ì ‘ ëª©ë¡ ì‚¬ìš©í•˜ê¸°.
- ì¸ì ‘ í–‰ë ¬ ì‚¬ìš©í•˜ê¸°.

ê·¸ë ‡ê²Œ í•˜ê¸° ì „ì—, ì •ì ê³¼ ê°€ì¥ìë¦¬ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ë¨¼ì € íƒ€ì…ì„ êµ¬ì¶•í•´ì•¼ í•©ë‹ˆë‹¤.

## 2. Defining a vertex ì •ì  ì •ì˜í•˜ê¸°

```swift
// Vertex.swift
public struct Vertex<T> {
  public let index: Int
  public let data: T
}
```

 ì¼ë°˜ì ì¸ ì •ì  êµ¬ì¡°ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì •ì ì€ ê·¸ë˜í”„ ë‚´ì— ê³ ìœ í•œ ì¸ë±ìŠ¤ë¥¼ ê°€ì¡Œìœ¼ë©° ë°ì´í„°ë¥¼ ë³´ìœ í•˜ê³  ìˆë‹¤.

Vertexë¥¼ ë”•ì…”ë„ˆë¦¬ì˜ í‚¤ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•  ê²ƒì´ë¯€ë¡œ Hashableì„ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤. 
Hashableì— ëŒ€í•œ ìš”êµ¬ ì‚¬í•­ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë‹¤ìŒ Extensionì„ ì¶”ê°€í•˜ì„¸ìš”:

```swift
extension Vertex: Hashable where T: Hashable {}
extension Vertex: Equatable where T: Equatable {}
```

Hashable í”„ë¡œí† ì½œì€ Equatableì—ì„œ ìƒì†ë˜ë¯€ë¡œ, ì´ í”„ë¡œí† ì½œì˜ ìš”êµ¬ ì‚¬í•­ë„ ì¶©ì¡±í•´ì•¼ í•©ë‹ˆë‹¤. 
ì»´íŒŒì¼ëŸ¬ëŠ” ë‘ í”„ë¡œí† ì½œ ëª¨ë‘ì— ëŒ€í•œ ì í•©ì„±ì„ í•©ì„±í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ìœ„ì˜ Extensionì´ ë¹„ì–´ ìˆëŠ” ì´ìœ ì…ë‹ˆë‹¤.

## 3. Defining an edge ê°€ì¥ìë¦¬ ì •ì˜í•˜ê¸°

ë‘ ì •ì ì„ ì—°ê²°í•˜ë ¤ë©´, ê·¸ë“¤ ì‚¬ì´ì— ê°€ì¥ìë¦¬(ì—£ì§€)ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤!

```swift
// Edge.swift
public struct Edge<T> {
  public let source: Vertex<T>
  public let destination: Vertex<T>
  public let weight: Double?
}
```

ê°€ì¥ìë¦¬ëŠ” ë‘ ê°œì˜ ì •ì ì„ ì—°ê²°í•˜ê³  ê°€ì¤‘ì¹˜ë¥¼ ì˜µì…”ë„ë¡œ ê°€ì§€ê³  ìˆë‹¤. 

## 4. Adjacency list ì¸ì ‘ ëª©ë¡

ë‹¹ì‹ ì´ ë°°ìš°ê²Œ ë  ì²« ë²ˆì§¸ ê·¸ë˜í”„ êµ¬í˜„ì€ ì¸ì ‘ ëª©ë¡ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¸ë˜í”„ì˜ ëª¨ë“  ì •ì ì— ëŒ€í•´, ê·¸ë˜í”„ëŠ” ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ ëª©ë¡ì„ ì €ì¥í•©ë‹ˆë‹¤.

ë‹¤ìŒ ë„¤íŠ¸ì›Œí¬ë¥¼ ì˜ˆë¡œ ë“¤ì–´ ë³´ì„¸ìš”:

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/ef508639-4b3f-49f7-9aa2-caf74a7f64ad)

ì•„ë˜ì˜ ì¸ì ‘ ëª©ë¡ì€ ìœ„ì— ë¬˜ì‚¬ëœ í•­ê³µí¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤:

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/ca3f0b28-0f7d-476f-b776-0dc39fd24135)

ì´ ì¸ì ‘ ëª©ë¡ì—ì„œ ë°°ìš¸ ìˆ˜ ìˆëŠ” ê²ƒì´ ë§ì´ ìˆìŠµë‹ˆë‹¤:

1. ì‹±ê°€í¬ë¥´ì˜ ì •ì ì€ ë‘ ê°œì˜ ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì‹±ê°€í¬ë¥´ì—ì„œ ë„ì¿„ì™€ í™ì½©ìœ¼ë¡œ ê°€ëŠ” ë¹„í–‰ê¸°ê°€ ìˆë‹¤.
2. ë””íŠ¸ë¡œì´íŠ¸ëŠ” ë‚˜ê°€ëŠ” êµí†µëŸ‰ì´ ê°€ì¥ ì ë‹¤.
3. ë„ì¿„ëŠ” ê°€ì¥ ì¶œí•­í•˜ëŠ” í•­ê³µí¸ì´ ìˆëŠ” ê°€ì¥ ë¶ë¹„ëŠ” ê³µí•­ì´ë‹¤.

ë‹¤ìŒì—ì„œëŠ” ë°°ì—´ ë”•ì…”ë„ˆë¦¬ì„ ì €ì¥í•˜ì—¬ ì¸ì ‘ ëª©ë¡ì„ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤. ë”•ì…”ë„ˆë¦¬ì˜ ê° í‚¤ëŠ” ì •ì ì´ë©°, ëª¨ë“  ì •ì ì—ì„œ ë”•ì…”ë„ˆë¦¬ëŠ” í•´ë‹¹ ê°€ì¥ìë¦¬ ë°°ì—´ì„ ë³´ìœ í•˜ê³  ìˆë‹¤.

### êµ¬í˜„

```swift
// AdjacencyList.swift
public class AdjacencyList<T: Hashable>: Graph {
  private var adjacencies: [Vertex<T>: [Edge<T>]] = [:]
  public init() {}
  // more to come ...
}
```

ì—¬ê¸°ì„œ, ë‹¹ì‹ ì€ ë”•ì…”ë„ˆë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ì¥ìë¦¬ë¥¼ ì €ì¥í•˜ëŠ” AdjacencyListë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì¼ë°˜ ë§¤ê°œ ë³€ìˆ˜ TëŠ” ë”•ì…”ë„ˆë¦¬ì˜ í‚¤ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— Hashableì´ì–´ì•¼ í•©ë‹ˆë‹¤.

ì´ì œ ê·¸ë˜í”„ í”„ë¡œí† ì½œì˜ ìš”êµ¬ ì‚¬í•­ì„ êµ¬í˜„í•´ë³¼ê¹Œìš”?

### ì •ì  ë§Œë“¤ê¸°

AdjacencyListì— ë‹¤ìŒ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```swift
public func createVertex(data: T) -> Vertex<T> {
  let vertex = Vertex(index: adjacencies.count, data: data)
  adjacencies[vertex] = []
  return vertex
}
```

ìƒˆë¡œìš´ ì •ì ì„ ë§Œë“¤ê³  ê·¸ê²ƒì„ ë°˜í™˜í•©ë‹ˆë‹¤. 

ì¸ì ‘ ëª©ë¡ì— ìƒˆë¡œìš´ ì •ì ì— ëŒ€í•œ ë¹ˆ ê°€ì¥ìë¦¬ ë°°ì—´ì„ ì €ì¥í•©ë‹ˆë‹¤.

### ë°©í–¥ ê°€ì¥ìë¦¬ ë§Œë“¤ê¸° Directed edge

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/249a1736-7a44-46b6-8077-1c4cb78d4f16)

```swift
public func addDirectedEdge(from source: Vertex<T>,
                            to destination: Vertex<T>,
                            weight: Double?) {
  let edge = Edge(source: source,
                  destination: destination,
                  weight: weight)
  adjacencies[source]?.append(edge)
}
```

ì´ ë°©ë²•ì€ ìƒˆë¡œìš´ ê°€ì¥ìë¦¬ë¥¼ ë§Œë“¤ê³  ì¸ì ‘ ëª©ë¡ì— ì €ì¥í•©ë‹ˆë‹¤.

### ë°©í–¥ì´ ì—†ëŠ” ê°€ì¥ìë¦¬ ë§Œë“¤ê¸° Undirected edge

ë¬´ë°©í–¥ ê·¸ë˜í”„ëŠ” ì–‘ë°©í–¥ ê·¸ë˜í”„ë¡œ ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”. ë¬´ë°©í–¥ ê·¸ë˜í”„ì˜ ëª¨ë“  ê°€ì¥ìë¦¬ëŠ” ì–‘ë°©í–¥ìœ¼ë¡œ íš¡ë‹¨í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì´ ë‹¹ì‹ ì´ addDirectedEdge ìœ„ì— addUndirectedEdgeë¥¼ êµ¬í˜„í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤. ì´ êµ¬í˜„ì€ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ê·¸ë˜í”„ì— í”„ë¡œí† ì½œ í™•ì¥ìœ¼ë¡œ ì¶”ê°€í•  ê²ƒì…ë‹ˆë‹¤.

Graph.swiftì—ì„œ, ë‹¤ìŒ extensionì„ ì¶”ê°€í•˜ì„¸ìš”:

```swift
extension Graph {
  public func addUndirectedEdge(between source: Vertex<Element>,
                                and destination: Vertex<Element>,
                                weight: Double?) {
    addDirectedEdge(from: source, to: destination, weight: weight)
    addDirectedEdge(from: destination, to: source, weight: weight)
  }
}
```

ë¹„ë°©í–¥ ê°€ì¥ìë¦¬ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ë‘ ê°œì˜ ë°©í–¥ ê°€ì¥ìë¦¬ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.

ì´ì œ addDirectedEdgeì™€ addUndirectedEdgeë¥¼ ëª¨ë‘ êµ¬í˜„í–ˆìœ¼ë¯€ë¡œ, ì´ëŸ¬í•œ ë°©ë²• ì¤‘ í•˜ë‚˜ì— ìœ„ì„í•˜ì—¬ addë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°™ì€ í”„ë¡œí† ì½œ í™•ì¥ì—ì„œ, ë‹¤ìŒì„ ì¶”ê°€í•˜ì„¸ìš”:

```swift
public func add(_ edge: EdgeType, from source: Vertex<Element>,
                                  to destination: Vertex<Element>,
                                  weight: Double?) {
  switch edge {
  case .directed:
    addDirectedEdge(from: source, to: destination, weight: weight)
  case .undirected:
    addUndirectedEdge(between: source, and: destination, weight: weight)
  }
}
```

add ë©”ì„œë“œëŠ” ë°©í–¥ ë˜ëŠ” ë¹„ë°©í–¥ ê°€ì¥ìë¦¬ë¥¼ ë§Œë“œëŠ” í¸ë¦¬í•œ ë°©ë²•ì…ë‹ˆë‹¤. 

### ì •ì ì—ì„œ ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ë¥¼ ê²€ìƒ‰í•˜ê¸°

AdjacencyList.swiftë¡œ ëŒì•„ê°€ì„œ, ë‹¤ìŒ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ì—¬ ê·¸ë˜í”„ í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•˜ëŠ” ì‘ì—…ì„ ê³„ì†í•˜ì„¸ìš”:

```swift
public func edges(from source: Vertex<T>) -> [Edge<T>] {
  adjacencies[source] ?? []
}
```

ì •ì ì„ ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš° ë¹ˆ ë°°ì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

### ê°€ì¥ìë¦¬ì˜ ë¬´ê²Œë¥¼ ë˜ì°¾ê¸°

ì‹±ê°€í¬ë¥´ì—ì„œ ë„ì¿„ë¡œ ê°€ëŠ” ë¹„í–‰ê¸°ëŠ” ì–¼ë§ˆì¸ê°€ìš”?

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/08db2b2e-11a1-4dcd-a026-603d0b857e04)

Add the following right after edges(from:):

```swift
public func weight(from source: Vertex<T>,
                   to destination: Vertex<T>) -> Double? {
  edges(from: source)
     .first { $0.destination == destination }?
     .weight
}
```

ì—¬ê¸°ì„œ, ì†ŒìŠ¤ì—ì„œ ëª©ì ì§€ê¹Œì§€ ì²« ë²ˆì§¸ ê°€ì¥ìë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì•½ ìˆë‹¤ë©´, ë‹¹ì‹ ì€ ê·¸ ë¬´ê²Œë¥¼ ëŒë ¤ì¤ë‹ˆë‹¤.

ì •ì ê³¼ ëª¨ì„œë¦¬ë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ë‹¤ë¥¸ ì ‘ê·¼ ë°©ì‹ì„ ì‚´í´ë´…ì‹œë‹¤.

## 5. ì¸ì ‘ í–‰ë ¬

ì¸ì ‘ í–‰ë ¬ì€ ê·¸ë˜í”„ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ì •ì‚¬ê°í˜• í–‰ë ¬ì„ ì‚¬ìš©í•œë‹¤. ì´ í–‰ë ¬ì€ í–‰ë ¬[í–‰][ì—´]ì˜ ê°’ì´ í–‰ê³¼ ì—´ì˜ ì •ì  ì‚¬ì´ì˜ ê°€ì¥ìë¦¬ì˜ ê°€ì¤‘ì¹˜ì¸ 2ì°¨ì› ë°°ì—´ì´ë‹¤.

ì•„ë˜ëŠ” ë‹¤ë¥¸ ì¥ì†Œë¡œ ì—¬í–‰í•˜ëŠ” ë¹„í–‰ ë„¤íŠ¸ì›Œí¬ë¥¼ ë¬˜ì‚¬í•œ ë°©í–¥ ê·¸ë˜í”„ì˜ ì˜ˆì…ë‹ˆë‹¤. ë¬´ê²ŒëŠ” í•­ê³µë£Œ ë¹„ìš©ì„ ë‚˜íƒ€ë‚¸ë‹¤.

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/d0851888-dc52-49e6-b476-80872fb9f074)

ë‹¤ìŒ ì¸ì ‘ ë§¤íŠ¸ë¦­ìŠ¤ëŠ” ìœ„ì— ë¬˜ì‚¬ëœ í•­ê³µí¸ì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/2f3cec77-7d39-4ae0-90a1-311ca066c2ae)

ì¸ì ‘ ëª©ë¡ì— ë¹„í•´, ì´ ë§¤íŠ¸ë¦­ìŠ¤ëŠ” ì½ê¸°ê°€ ì¡°ê¸ˆ ë” ì–´ë µë‹¤. ì™¼ìª½ì˜ ì •ì  ë°°ì—´ì„ ì‚¬ìš©í•˜ë©´ í–‰ë ¬ì—ì„œ ë§ì€ ê²ƒì„ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:

- [0][1]ì€ 300ì´ë¯€ë¡œ, ì‹±ê°€í¬ë¥´ì—ì„œ í™ì½©ìœ¼ë¡œ ê°€ëŠ” í•­ê³µí¸ì´ 300ë‹¬ëŸ¬ì…ë‹ˆë‹¤.
- [2][1]ì€ 0ì´ë¯€ë¡œ, ë„ì¿„ì—ì„œ í™ì½©ìœ¼ë¡œ ê°€ëŠ” í•­ê³µí¸ì´ ì—†ìŠµë‹ˆë‹¤.
- [1][2]ëŠ” 250ë‹¬ëŸ¬ì´ë¯€ë¡œ, í™ì½©ì—ì„œ ë„ì¿„ë¡œ ê°€ëŠ” ë¹„í–‰ê¸°ëŠ” 250ë‹¬ëŸ¬ì´ë‹¤.
- [2][2]ëŠ” 0ì´ë¯€ë¡œ, ë„ì¿„ì—ì„œ ë„ì¿„ë¡œ ê°€ëŠ” í•­ê³µí¸ì´ ì—†ìŠµë‹ˆë‹¤!

<aside>
ğŸ’¡ ì°¸ê³ : í–‰ë ¬ ì¤‘ê°„ì— ë¶„í™ìƒ‰ ì„ ì´ ìˆìŠµë‹ˆë‹¤. í–‰ê³¼ ì—´ì´ ê°™ì„ ë•Œ, ì´ê²ƒì€ ì •ì ê³¼ ê·¸ ìì²´ ì‚¬ì´ì˜ ê°€ì¥ìë¦¬ë¥¼ ë‚˜íƒ€ë‚´ë©°, ì´ëŠ” í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

</aside>

### êµ¬í˜„

```swift
// AdjacencyMatrix.swift
public class AdjacencyMatrix<T>: Graph {

  private var vertices: [Vertex<T>] = []
  private var weights: [[Double?]] = []

  public init() {}
  // more to come ...
}
```

ì´ì œ ê·¸ë˜í”„ í”„ë¡œí† ì½œì˜ ìš”êµ¬ ì‚¬í•­ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.

### ì •ì  ë§Œë“¤ê¸°Creating a Vertex

```swift
// AdjacencyMatrix
public func createVertex(data: T) -> Vertex<T> {
  let vertex = Vertex(index: vertices.count, data: data)
  vertices.append(vertex) // 1
  for i in 0..<weights.count { // 2
    weights[i].append(nil)
  }
  let row = [Double?](repeating: nil, count: vertices.count) // 3
  weights.append(row)
  return vertex
}
```

ì¸ì ‘ í–‰ë ¬ì— ì •ì ì„ ë§Œë“¤ë ¤ë©´:

1. ë°°ì—´ì— ìƒˆ ì •ì ì„ ì¶”ê°€í•˜ì„¸ìš”.
2. í˜„ì¬ ì •ì  ì¤‘ ì–´ëŠ ê²ƒë„ ìƒˆë¡œìš´ ì •ì ì— ê°€ì¥ìë¦¬ê°€ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— í–‰ë ¬ì˜ ëª¨ë“  í–‰ì— nil ê°€ì¤‘ì¹˜ë¥¼ ì¶”ê°€í•˜ì‹­ì‹œì˜¤.

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/4f19e768-e586-4605-85dd-f3771e8a63a3)

1. ë§¤íŠ¸ë¦­ìŠ¤ì— ìƒˆ í–‰ì„ ì¶”ê°€í•˜ì„¸ìš”. ì´ í–‰ì€ ìƒˆë¡œìš´ ì •ì ì˜ ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ë¥¼ ìœ ì§€í•œë‹¤.

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/7878a93d-3931-4b8d-b38e-935e26b12413)

### ê°€ì¥ìë¦¬ ë§Œë“¤ê¸°

ê°€ì¥ìë¦¬ë¥¼ ë§Œë“œëŠ” ê²ƒì€ ë§¤íŠ¸ë¦­ìŠ¤ë¥¼ ì±„ìš°ëŠ” ê²ƒë§Œí¼ ê°„ë‹¨í•˜ë‹¤. ë‹¤ìŒ ë°©ë²•ì„ ì¶”ê°€í•˜ì„¸ìš”:

```swift
public func addDirectedEdge(from source: Vertex<T>,
                            to destination: Vertex<T>, weight: Double?) {
  weights[source.index][destination.index] = weight
}
```

addUndirectedEdgeì™€ addëŠ” í”„ë¡œí† ì½œ í™•ì¥ì— ê¸°ë³¸ êµ¬í˜„ì´ ìˆë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”, ê·¸ë˜ì„œ ì´ê²ƒì´ ë‹¹ì‹ ì´ í•´ì•¼ í•  ì „ë¶€ì…ë‹ˆë‹¤!

### ì •ì ì—ì„œ ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ë¥¼ ê²€ìƒ‰í•˜ê¸°

```swift
public func edges(from source: Vertex<T>) -> [Edge<T>] {
  var edges: [Edge<T>] = []
  for column in 0..<weights.count {
    if let weight = weights[source.index][column] {
      edges.append(Edge(source: source,
                        destination: vertices[column],
                        weight: weight))
    }
  }
  return edges
}
```

ì •ì ì˜ ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ë¥¼ ê²€ìƒ‰í•˜ë ¤ë©´, í–‰ë ¬ì—ì„œ ì´ ì •ì ì— ëŒ€í•œ í–‰ì—ì„œ nilì´ ì•„ë‹Œ ê°€ì¤‘ì¹˜ë¥¼ ê²€ìƒ‰í•˜ì‹­ì‹œì˜¤.

ëª¨ë“  non-nil ë¬´ê²ŒëŠ” ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ì— í•´ë‹¹í•œë‹¤. ëª©ì ì§€ëŠ” ë¬´ê²Œê°€ ë°œê²¬ëœ ì—´ì— í•´ë‹¹í•˜ëŠ” ì •ì ì´ë‹¤.

### ê°€ì¥ìë¦¬ì˜ ë¬´ê²Œë¥¼ ë˜ì°¾ê¸°

ê°€ì¥ìë¦¬ì˜ ë¬´ê²Œë¥¼ ì–»ëŠ” ê²ƒì€ ë§¤ìš° ì‰½ìŠµë‹ˆë‹¤; ì¸ì ‘ í–‰ë ¬ì—ì„œ ê°’ì„ ì°¾ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ì´ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```swift
public func weight(from source: Vertex<T>,
                   to destination: Vertex<T>) -> Double? {
  weights[source.index][destination.index]
}
```

### ì¸ì ‘ í–‰ë ¬ì„ ì‹œê°í™”í•˜ì„¸ìš”.

ë§ˆì§€ë§‰ìœ¼ë¡œ, ê·¸ë˜í”„ì— ëŒ€í•œ ë©‹ì§€ê³  ì½ê¸° ì‰¬ìš´ ì„¤ëª…ì„ ì¸ì‡„í•  ìˆ˜ ìˆë„ë¡ ë‹¤ìŒ í™•ì¥ìë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```swift
extension AdjacencyMatrix: CustomStringConvertible {

  public var description: String {
    // 1 ë¨¼ì € ì •ì  ëª©ë¡ì„ ë§Œë“­ë‹ˆë‹¤.
    let verticesDescription = vertices.map { "\($0)" }
                                      .joined(separator: "\n")
    // 2 ê·¸ëŸ° ë‹¤ìŒ, í•œ ì¤„ í•œ ì¤„ë¡œ ê°€ì¤‘ì¹˜ì˜ ê²©ìë¥¼ ë§Œë“­ë‹ˆë‹¤.
    var grid: [String] = []
    for i in 0..<weights.count {
      var row = ""
      for j in 0..<weights.count {
        if let value = weights[i][j] {
          row += "\(value)\t"
        } else {
          row += "Ã¸\t\t"
        }
      }
      grid.append(row)
    }
    let edgesDescription = grid.joined(separator: "\n")
    // 3 ë§ˆì§€ë§‰ìœ¼ë¡œ, ë‘ ì„¤ëª…ì„ í•¨ê»˜ ê²°í•©í•˜ê³  ë°˜í™˜í•©ë‹ˆë‹¤.
    return "\(verticesDescription)\n\n\(edgesDescription)"
  }
}
```

## 6. ê·¸ë˜í”„ ë¶„ì„

ì´ ì°¨íŠ¸ëŠ” ì¸ì ‘ ëª©ë¡ê³¼ ì¸ì ‘ í–‰ë ¬ë¡œ í‘œì‹œëœ ê·¸ë˜í”„ì˜ ë‹¤ì–‘í•œ ì‘ì—… ë¹„ìš©ì„ ìš”ì•½í•©ë‹ˆë‹¤.

![image](https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/100195563/c5a4ace4-4501-47f4-b647-014feb1a0708)

VëŠ” ì •ì ì„ ë‚˜íƒ€ë‚´ê³ , EëŠ” ëª¨ì„œë¦¬ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

ì¸ì ‘ ëª©ë¡ì€ ì¸ì ‘ í–‰ë ¬ë³´ë‹¤ ì €ì¥ ê³µê°„ì„ ëœ ì°¨ì§€í•œë‹¤. ì¸ì ‘ ëª©ë¡ì€ ë‹¨ìˆœíˆ í•„ìš”í•œ ì •ì ê³¼ ê°€ì¥ìë¦¬ì˜ ìˆ˜ë¥¼ ì €ì¥í•œë‹¤. ì¸ì ‘ í–‰ë ¬ì— ê´€í•´ì„œëŠ”, í–‰ê³¼ ì—´ì˜ ìˆ˜ê°€ ì •ì ì˜ ìˆ˜ì™€ ê°™ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”. ì´ê²ƒì€ O(VÂ²)ì˜ ì´ì°¨ ê³µê°„ ë³µì¡ì„±ì„ ì„¤ëª…í•œë‹¤.

ì •ì ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì¸ì ‘ ëª©ë¡ì—ì„œ íš¨ìœ¨ì ì…ë‹ˆë‹¤: ì •ì ì„ ë§Œë“¤ê³  ì‚¬ì „ì—ì„œ í‚¤-ê°’ ìŒì„ ì„¤ì •í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ê²ƒì€ O(1)ë¡œ ìƒê°ëœë‹¤. ì¸ì ‘ í–‰ë ¬ì— ì •ì ì„ ì¶”ê°€í•  ë•Œ, ëª¨ë“  í–‰ì— ì—´ì„ ì¶”ê°€í•˜ê³  ìƒˆ ì •ì ì— ëŒ€í•œ ìƒˆ í–‰ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ê²ƒì€ ì ì–´ë„ O(V), ê·¸ë¦¬ê³  ë§Œì•½ ë‹¹ì‹ ì´ ë‹¹ì‹ ì˜ ë§¤íŠ¸ë¦­ìŠ¤ë¥¼ ì¸ì ‘í•œ ë©”ëª¨ë¦¬ ë¸”ë¡ìœ¼ë¡œ ë‚˜íƒ€ë‚´ê¸°ë¡œ ì„ íƒí•œë‹¤ë©´, ê·¸ê²ƒì€ O(VÂ²)ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì—£ì§€ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ë‘˜ ë‹¤ ì¼ì •í•œ ì‹œê°„ì´ê¸° ë•Œë¬¸ì— ë‘ ë°ì´í„° êµ¬ì¡° ëª¨ë‘ì—ì„œ íš¨ìœ¨ì ì´ë‹¤. ì¸ì ‘ ëª©ë¡ì€ ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ ë°°ì—´ì— ì¶”ê°€ë©ë‹ˆë‹¤. ì¸ì ‘ í–‰ë ¬ì€ ë‹¨ìˆœíˆ 2ì°¨ì› ë°°ì—´ì˜ ê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤.

ì¸ì ‘ ëª©ë¡ì€ íŠ¹ì • ê°€ì¥ìë¦¬ë‚˜ ë¬´ê²Œë¥¼ ì°¾ìœ¼ë ¤ê³  í•  ë•Œ ìƒìŠµë‹ˆë‹¤. ì¸ì ‘ ëª©ë¡ì—ì„œ ê°€ì¥ìë¦¬ë¥¼ ì°¾ìœ¼ë ¤ë©´, ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ ëª©ë¡ì„ ì–»ê³  ì¼ì¹˜í•˜ëŠ” ëª©ì ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ ëª¨ë“  ê°€ì¥ìë¦¬ë¥¼ ë°˜ë³µí•´ì•¼ í•©ë‹ˆë‹¤. ì´ê²ƒì€ O(V) ì‹œê°„ì— ì¼ì–´ë‚œë‹¤. ì¸ì ‘ í–‰ë ¬ì„ ì‚¬ìš©í•˜ë©´ ê°€ì¥ìë¦¬ë‚˜ ê°€ì¤‘ì¹˜ë¥¼ ì°¾ëŠ” ê²ƒì€ 2ì°¨ì› ë°°ì—´ì—ì„œ ê°’ì„ ê²€ìƒ‰í•˜ê¸° ìœ„í•œ ì¼ì •í•œ ì‹œê°„ ì ‘ê·¼ì´ë‹¤.

ê·¸ë˜í”„ë¥¼ êµ¬ì„±í•˜ë ¤ë©´ ì–´ë–¤ ë°ì´í„° êµ¬ì¡°ë¥¼ ì„ íƒí•´ì•¼ í•˜ë‚˜ìš”?

**ê·¸ë˜í”„ì— ê°€ì¥ìë¦¬ê°€ ê±°ì˜ ì—†ë‹¤ë©´**, í¬ì†Œ ê·¸ë˜í”„ë¡œ ê°„ì£¼ë˜ë©°, **ì¸ì ‘ ëª©ë¡**ì´ ì˜ ë§ì„ ê²ƒì…ë‹ˆë‹¤. ì¸ì ‘ ë§¤íŠ¸ë¦­ìŠ¤ëŠ” ê°€ì¥ìë¦¬ê°€ ë§ì§€ ì•Šê¸° ë•Œë¬¸ì— ë§ì€ ë©”ëª¨ë¦¬ê°€ ë‚­ë¹„ë  ê²ƒì´ê¸° ë•Œë¬¸ì— í¬ì†Œ ê·¸ë˜í”„ì— ë‚˜ìœ ì„ íƒì´ ë  ê²ƒì´ë‹¤.

**ê·¸ë˜í”„ì— ëª¨ì„œë¦¬ê°€ ë§ë‹¤ë©´**, ì¡°ë°€ë„ ê·¸ë˜í”„ë¡œ ê°„ì£¼ë˜ë©°, ê°€ì¤‘ì¹˜ì™€ ëª¨ì„œë¦¬ì— í›¨ì”¬ ë” ë¹¨ë¦¬ ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— **ì¸ì ‘ í–‰ë ¬**ì´ ë” ì˜ ë§ì„ ê²ƒì…ë‹ˆë‹¤.

## ğŸ—ï¸Â Key points

- ì •ì ê³¼ ê°€ì¥ìë¦¬ë¥¼ í†µí•´ ì‹¤ì œ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì •ì ì„ ë¬¼ì²´ë¡œ ìƒê°í•˜ê³  ê°€ì¥ìë¦¬ë¥¼ ë¬¼ì²´ ì‚¬ì´ì˜ ê´€ê³„ë¡œ ìƒê°í•˜ì„¸ìš”.
- ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ê·¸ë˜í”„ëŠ” ê°€ì¤‘ì¹˜ë¥¼ ëª¨ë“  ê°€ì¥ìë¦¬ì™€ ì—°ê´€ì‹œí‚¨ë‹¤.
- ë°©í–¥ ê·¸ë˜í”„ëŠ” í•œ ë°©í–¥ìœ¼ë¡œ ê°€ë¡œì§€ë¥´ëŠ” ëª¨ì„œë¦¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
- ë¬´ë°©í–¥ ê·¸ë˜í”„ëŠ” ì–‘ë°©í–¥ì„ ê°€ë¦¬í‚¤ëŠ” ê°€ì¥ìë¦¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
- ì¸ì ‘ ëª©ë¡ì€ ëª¨ë“  ì •ì ì— ëŒ€í•œ ë‚˜ê°€ëŠ” ê°€ì¥ìë¦¬ ëª©ë¡ì„ ì €ì¥í•©ë‹ˆë‹¤.
- ì¸ì ‘ í–‰ë ¬ì€ ê·¸ë˜í”„ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ì •ì‚¬ê°í˜• í–‰ë ¬ì„ ì‚¬ìš©í•œë‹¤.
- ì¸ì ‘ ëª©ë¡ì€ ì¼ë°˜ì ìœ¼ë¡œ ê·¸ë˜í”„ì˜ ê°€ì¥ìë¦¬ê°€ ê°€ì¥ ì ì€ ê²½ìš° í¬ì†Œ ê·¸ë˜í”„ì— ì¢‹ìŠµë‹ˆë‹¤.
- ì¸ì ‘ í–‰ë ¬ì€ ì¼ë°˜ì ìœ¼ë¡œ ê·¸ë˜í”„ì— ê°€ì¥ìë¦¬ê°€ ë§ì„ ë•Œ ê³ ë°€ë„ ê·¸ë˜í”„ì— ì í•©í•©ë‹ˆë‹¤.
