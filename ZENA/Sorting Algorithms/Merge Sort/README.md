# Merge Sort

ë³‘í•© ì •ë ¬ì€ ê°€ì¥ íš¨ìœ¨ì ì¸ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜ì´ë‹¤. O(n log n)ì˜ ì‹œê°„ ë³µì¡ë„ë¡œ, ëª¨ë“  ë²”ìš© ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ ì¤‘ ê°€ì¥ ë¹ ë¥¸ ê²ƒ ì¤‘ í•˜ë‚˜ì´ë‹¤. ë³‘í•© ì •ë ¬ì€ í° ë¬¸ì œë¥¼ ëª‡ ê°€ì§€ ë” ì‘ê³  í•´ê²°í•˜ê¸° ì‰¬ìš´ ë¬¸ì œë¡œ ë‚˜ëˆ„ê³  ê·¸ í•´ê²°ì±…ì„ ìµœì¢… ê²°ê³¼ë¡œ ê²°í•©í•˜ëŠ” ê²ƒì´ë‹¤. ë³‘í•© ì •ë ¬ ë§ŒíŠ¸ë¼ëŠ” ë¨¼ì € ë¶„í• í•˜ê³  ê·¸ í›„ì— ë³‘í•©í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ì¥ì—ì„œ, ì²˜ìŒë¶€í„° ë³‘í•© ì •ë ¬ì„ êµ¬í˜„í•œë‹¤. ì˜ˆì‹œë¶€í„° ì‹œì‘.

## Example

ì •ë ¬ë˜ì§€ ì•Šì€ ê²Œì„ ì¹´ë“œê°€ ìˆë‹¤ê³  í•˜ì:

<img width="700" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-13 á„‹á…©á„Œá…¥á†« 10 41 02" src="https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/57654681/10af762d-68c6-4631-ade3-0e9faa23724c">

ë¨¸ì§€ ì†ŒíŠ¸ ì•Œê³ ë¦¬ì¦˜ì€ ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤:

1. ì¼ë‹¨, ì¹´ë“œë”ë¯¸ë¥¼ ë°˜ìœ¼ë¡œ ë‚˜ëˆˆë‹¤. ì •ë ¬ë˜ì§€ ì•Šì€ ì¹´ë“œ ë‘ ë”ë¯¸ë¥¼ ê°–ê²Œ ëœë‹¤.

<img width="700" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-13 á„‹á…©á„Œá…¥á†« 10 41 15" src="https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/57654681/9f07044b-932a-4a24-8981-c6e0f88cf751">

2. ì´ì œ, ë”ì´ìƒ ìª¼ê°¤ ìˆ˜ ì—†ì„ ë•Œê¹Œì§€ ë”ë¯¸ splitì„ ê³„ì†í•œë‹¤. ë§ˆì§€ë§‰ì—ëŠ” ê° ë”ë¯¸ë§ˆë‹¤ ë‹¨ í•˜ë‚˜ì˜ (ì •ë ¬ëœ) ì¹´ë“œë¥¼ ê°–ê²Œ ëœë‹¤.

<img width="700" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-13 á„‹á…©á„Œá…¥á†« 10 41 29" src="https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/57654681/6f3c7961-2954-48b4-b127-86b553e2180b">

<img width="700" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-13 á„‹á…©á„Œá…¥á†« 10 41 43" src="https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/57654681/8b1e57d3-e2c5-49c3-a2be-f8f91ff0da4a">

3. ë§ˆì§€ë§‰ìœ¼ë¡œ, ë”ë¯¸ë¥¼ ë‚˜ëˆ ì˜¨ ì—­ìˆœìœ¼ë¡œ ë‹¤ì‹œ í•©ì¹œë‹¤. mergeí•˜ë©´ì„œ ì¹´ë“œë“¤ì„ ì •ë ¬ëœ ìˆœì„œëŒ€ë¡œ ë†“ëŠ”ë‹¤. ê° íŒŒì¼ë“¤ì´ ì´ë¯¸ ì •ë ¬ë˜ì–´ ìˆì–´ ì´ ê³¼ì •ì€ ì‰½ë‹¤!

<img width="701" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-13 á„‹á…©á„Œá…¥á†« 10 42 01" src="https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/57654681/a44f78cb-faa1-4c27-807d-8e2bdc181fba">

<img width="701" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-13 á„‹á…©á„Œá…¥á†« 10 42 16" src="https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/57654681/021ab0f3-0567-4fe4-953e-f43d27ecfa28">

<img width="700" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-13 á„‹á…©á„Œá…¥á†« 10 42 29" src="https://github.com/Swift-AlgorithmStudy/GaBoJaGo/assets/57654681/6bc62af6-efac-4d82-9aba-393fd7d82d9b">

## Implementation

### Split

```swift
public func mergeSort<Element>(_ array: [Element]) -> [Element] where Element: Comparable {
  let middle = array.count / 2
  let left = Array(array[..<middle])
  let right = Array(array[middle...])
  // ... more to come
}
```

ì—¬ê¸°ì„œ ë°°ì—´ì„ ë°˜ìœ¼ë¡œ ë‚˜ëˆˆë‹¤. í•œ ë²ˆ ë‚˜ëˆ„ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ì¶©ë¶„í•˜ì§€ ì•Šë‹¤. ë” ì´ìƒ ë¶„í• í•  ìˆ˜ ì—†ì„ ë•Œê¹Œì§€ ì¬ê·€ì ìœ¼ë¡œ ê³„ì† ë¶„í• í•´ì•¼ í•œë‹¤. ì´ëŠ” ê° ì„¸ë¶„í™”ëœ ë”ë¯¸ì— í•˜ë‚˜ì˜ ìš”ì†Œë§Œ í¬í•¨ë˜ì–´ ìˆì„ ë•Œì´ë‹¤.

ì´ë ‡ê²Œ í•˜ë ¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ mergeSortë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤:

```swift
public func mergeSort<Element>(_ array: [Element]) -> [Element] where Element: Comparable {
  // 1
  guard array.count > 1 else { return array }
  let middle = array.count / 2
  // 2
  let left = mergeSort(Array(array[..<middle]))
  let right = mergeSort(Array(array[middle...]))
  // ... more to come
}
```

ì—¬ê¸°ì„œ ë³€ê²½ëœ ë‘ ê°€ì§€:

1. ì¬ê·€ì—ëŠ” "ì¢…ë£Œ ì¡°ê±´"ìœ¼ë¡œ ìƒê°í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ ì‚¬ë¡€ê°€ í•„ìš”í•˜ë‹¤. ì´ ê²½ìš°, ê¸°ë³¸ ê²½ìš°ëŠ” ë°°ì—´ì— í•˜ë‚˜ì˜ ìš”ì†Œë§Œ ìˆì„ ë•Œì´ë‹¤.
2. ì´ì œ ì›ë˜ ë°°ì—´ì˜ ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ì ˆë°˜ì—ì„œ mergeSortë¥¼ í˜¸ì¶œí•˜ê³  ìˆë‹¤. ë°°ì—´ì„ ë°˜ìœ¼ë¡œ ë‚˜ëˆ„ìë§ˆì, ë‹¤ì‹œ ë‚˜ëˆ„ë ¤ê³  ì‹œë„í•  ê²ƒì´ë‹¤.

ì½”ë“œê°€ ì»´íŒŒì¼ë˜ê¸° ì „ì— í•´ì•¼ í•  ì¼ì´ ë” ë§ë‹¤. ì´ì œ ë¶„í•  ë¶€ë¶„ì„ ì™„ë£Œí–ˆìœ¼ë‹ˆ, ë³‘í•©ì— ì§‘ì¤‘í•´ë³´ìììì

### Merge

ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ë°°ì—´ì„ ë³‘í•©í•˜ëŠ” ê²ƒì´ë‹¤. ê¹”ë”í•œ ë™ì‘ì„ ìœ„í•´ ì´ë¥¼ ìœ„í•œ ë³„ë„ì˜ ë³‘í•© ê¸°ëŠ¥ì„ ë§Œë“¤ ê²ƒì´ë‹¤.

ë³‘í•© í•¨ìˆ˜ì˜ ìœ ì¼í•œ ì±…ì„ì€ **ë‘ ê°œì˜ ì •ë ¬ëœ ë°°ì—´ì„ ê°€ì ¸ì™€ ì •ë ¬ ìˆœì„œë¥¼ ìœ ì§€í•˜ë©´ì„œ ê²°í•©í•˜ëŠ” ê²ƒ**ì´ë‹¤. mergeSort ê¸°ëŠ¥ ë°”ë¡œ ì•„ë˜ì— ë‹¤ìŒì„ ì¶”ê°€í•œë‹¤:

```swift
private func merge<Element>(_ left: [Element], _ right: [Element])
    -> [Element] where Element: Comparable {
  // 1
  var leftIndex = 0
  var rightIndex = 0
  // 2
  var result: [Element] = []
  // 3
  while leftIndex < left.count && rightIndex < right.count {
    let leftElement = left[leftIndex]
    let rightElement = right[rightIndex]
    // 4
    if leftElement < rightElement {
      result.append(leftElement)
      leftIndex += 1
    } else if leftElement > rightElement {
      result.append(rightElement)
      rightIndex += 1
    } else {
      result.append(leftElement)
      leftIndex += 1
      result.append(rightElement)
      rightIndex += 1
    }
  }
  // 5
  if leftIndex < left.count {
    result.append(contentsOf: left[leftIndex...])
  }
  if rightIndex < right.count {
    result.append(contentsOf: right[rightIndex...])
  }
  return result
}
```

ì½”ë“œ ë¶„ì„:

1. `leftIndex`ì™€ `rightIndex` ë³€ìˆ˜ëŠ” ë‘ ë°°ì—´ì„ ë¶„ì„í•  ë•Œ ì§„í–‰ ìƒí™©ì„ ì¶”ì í•œë‹¤.
2. ê²°ê³¼ ë°°ì—´ì€ ê²°í•©ëœ ë°°ì—´ì„ ë‹´ì„ ê²ƒ ì´ë‹¤.
3. ì²˜ìŒë¶€í„° ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ë°°ì—´ì˜ ìš”ì†Œë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ë¹„êµí•œë‹¤. ë‘ ë°°ì—´ì˜ ëì— ë„ë‹¬í–ˆë‹¤ë©´, ë¹„êµí•  ê²ƒì´ ì—†ëŠ” ê²ƒì´ë‹¤.
4. ë‘ ìš”ì†Œ ì¤‘ **ì‘ì€ ê²ƒ**ì€ ê²°ê³¼ ë°°ì—´ì— ë“¤ì–´ê°„ë‹¤. ìš”ì†Œê°€ ê°™ë‹¤ë©´, ë‘˜ ë‹¤ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
5. ì²« ë²ˆì§¸ ë£¨í”„ëŠ” ì™¼ìª½ì´ë‚˜ ì˜¤ë¥¸ìª½ì´ ë¹„ì–´ ìˆìŒì„ ë³´ì¥í•œë‹¤. ë‘ ë°°ì—´ì´ ëª¨ë‘ ì •ë ¬ë˜ê¸° ë•Œë¬¸ì—, ì´ê²ƒì€ ë‚¨ì€ ìš”ì†Œê°€ í˜„ì¬ ê²°ê³¼ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë„ë¡ ë³´ì¥í•œë‹¤. ì´ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” ë¹„êµ ì—†ì´ ë‚˜ë¨¸ì§€ ìš”ì†Œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

### Finishing up

ë³‘í•©ì„ í˜¸ì¶œí•˜ì—¬ mergeSort ê¸°ëŠ¥ì„ ëë‚´ë³´ì. mergeSortë¥¼ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì—, ì•Œê³ ë¦¬ì¦˜ì€ ë³‘í•©í•˜ê¸° ì „ì— ë‘ ë°˜ìª½ì„ ë¶„í• í•˜ê³  ì •ë ¬í•œë‹¤.

```swift
public func mergeSort<Element>(_ array: [Element])
    -> [Element] where Element: Comparable {
  guard array.count > 1 else {
    return array
  }
  let middle = array.count / 2
  let left = mergeSort(Array(array[..< middle]))
  let right = mergeSort(Array(array[middle...]))
  return merge(left, right)
}
```

ì´ ì½”ë“œëŠ” ë³‘í•© ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì˜ ìµœì¢… ë²„ì „! ë‹¤ìŒì€ ë³‘í•© ì •ë ¬ì˜ ì£¼ìš” ì ˆì°¨ì— ëŒ€í•œ ìš”ì•½ì´ë‹¤:

1. ë³‘í•© ì •ë ¬ì˜ ì „ëµì€ **í•˜ë‚˜ì˜ í° ë¬¸ì œ ëŒ€ì‹  ë§ì€ ì‘ì€ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ ë‚˜ëˆ„ê³  ì •ë³µí•˜ëŠ” ê²ƒ Divide and Conquer**ì´ë‹¤.
2. ê·¸ê²ƒì€ ë‘ ê°€ì§€ í•µì‹¬ ì±…ì„ì´ ìˆë‹¤: **ì´ˆê¸° ë°°ì—´ì„ ì¬ê·€ì ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë°©ë²•**ê³¼ **ë‘ ë°°ì—´ì„ ë³‘í•©í•˜ëŠ” ë°©ë²•**.
3. ë³‘í•© í•¨ìˆ˜ëŠ” ë‘ ê°œì˜ ì •ë ¬ëœ ë°°ì—´ì„ ê°€ì ¸ì™€ í•˜ë‚˜ì˜ ì •ë ¬ëœ ë°°ì—´ì„ ìƒì„±í•´ì•¼ í•œë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ - í™•ì¸í•´ ë³¼ ì‹œê°„ì´ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ë³‘í•© ì •ë ¬ì„ í…ŒìŠ¤íŠ¸í•´:

```swift
example(of: "merge sort") {
  let array = [7, 2, 6, 3, 9]
  print("Original: \(array)")
  print("Merge sorted: \(mergeSort(array))")
}

/*
    This outputs:
    ---Example of merge sort---
    Original: [7, 2, 6, 3, 9]
    Merge sorted: [2, 3, 6, 7, 9]
 */
```

## Performance

ë³‘í•© ì •ë ¬ì˜ **ìµœê³ , ìµœì•… ë° í‰ê·  ì‹œê°„ ë³µì¡ì„±ì€** `O(n log n)`ì´ë©°, ì´ëŠ” ê·¸ë ‡ê²Œ ë‚˜ì˜ì§€ ì•Šë‹¤. N log nì´ ì–´ë””ì—ì„œ ì™”ëŠ”ì§€ ì´í•´í•˜ê¸° ìœ„í•´ ê³ êµ°ë¶„íˆ¬í•˜ê³  ìˆë‹¤ë©´, ì¬ê·€ê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ìƒê°í•´ ë´ë¼:

- ì¼ë°˜ì ìœ¼ë¡œ, í¬ê¸° nì˜ ë°°ì—´ì´ ìˆë‹¤ë©´, ë ˆë²¨ ìˆ˜ëŠ” `log2(n)`ì…ë‹ˆë‹¤. ë°˜ë³µí•  ë•Œ, ë‹¹ì‹ ì€ í•˜ë‚˜ì˜ ë°°ì—´ì„ ë‘ ê°œì˜ ë” ì‘ì€ ë°°ì—´ë¡œ ë‚˜ëˆˆë‹¤. ì´ë•Œ í¬ê¸° 2ì˜ ë°°ì—´ì—ëŠ” í•˜ë‚˜ì˜ ì¬ê·€ ë ˆë²¨ì´ í•„ìš”í•˜ê³ , í¬ê¸° 4ì˜ ë°°ì—´ì—ëŠ” ë‘ ê°œì˜ ë ˆë²¨ì´ í•„ìš”í•˜ë©°, í¬ê¸° 8ì˜ ë°°ì—´ì—ëŠ” ì„¸ ê°œì˜ ë ˆë²¨ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. 1,024ê°œì˜ ìš”ì†Œ ë°°ì—´ì´ ìˆë‹¤ë©´, 1024ê°œì˜ ë‹¨ì¼ ìš”ì†Œ ë°°ì—´ë¡œ ë‚´ë ¤ê°€ë ¤ë©´ ë‘ ê°œë¡œ ì¬ê·€ì ìœ¼ë¡œ ë¶„í• í•˜ëŠ” 10ë‹¨ê³„ê°€ í•„ìš”í•  ê²ƒì´ë‹¤.
- ë‹¨ì¼ ì¬ê·€ ë¹„ìš©ì€ `O(n)`ì´ë‹¤. ë‹¨ì¼ ì¬ê·€ ë ˆë²¨ì€ nê°œì˜ ìš”ì†Œë¥¼ ë³‘í•©í•  ê²ƒì´ë‹¤. ë§ì€ ì‘ì€ ë³‘í•©ì´ ìˆë“  í•˜ë‚˜ì˜ í° ë³‘í•©ì´ ìˆëŠ”ì§€ëŠ” ì¤‘ìš”í•˜ì§€ ì•Šë‹¤; ë³‘í•©ëœ ìš”ì†Œì˜ ìˆ˜ëŠ” ì—¬ì „íˆ ê° ìˆ˜ì¤€ì—ì„œ nì´ ë  ê²ƒì´ë‹¤.

ì´ê²ƒì€ ì´ ë¹„ìš©ì„ `O(log n) Ã— O(n) = O(n log n)`ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.

ì´ì „ ì¥ì˜ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì€ ì œìë¦¬ì— ìˆì—ˆê³  swapAtë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œë¥¼ ì´ë™í–ˆë‹¤. ëŒ€ì¡°ì ìœ¼ë¡œ, ë³‘í•© ì •ë ¬ì€ ì‘ì—…ì„ í•˜ê¸° ìœ„í•´ **ì¶”ê°€ ë©”ëª¨ë¦¬**ë¥¼ í• ë‹¹í•œë‹¤. ì–¼ë§ˆë‚˜ì¸ê°€? Log2(n) ìˆ˜ì¤€ì˜ ì¬ê·€ê°€ ìˆìœ¼ë©°, ê° ìˆ˜ì¤€ì—ì„œ nê°œì˜ ìš”ì†Œê°€ ì‚¬ìš©ëœë‹¤. ê·¸ê²ƒì€ **ê³µê°„ì˜ ì´** `O(n log n)`**ì„ ë³µì¡í•˜ê²Œ** ë§Œë“ ë‹¤. ë³‘í•© ì •ë ¬ì€ íŠ¹ì§•ì ì¸ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜ì´ë‹¤. ê·¸ê²ƒì€ ì´í•´í•˜ê¸°ê°€ ë¹„êµì  ê°„ë‹¨í•˜ë©° ë¶„í• ê³¼ ì •ë³µ ì•Œê³ ë¦¬ì¦˜ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ì— ëŒ€í•œ í›Œë¥­í•œ ì†Œê°œ ì—­í• ì„ í•œë‹¤. ë³‘í•© ì •ë ¬ì€ `O(n log n)`ì´ë©°, ì´ êµ¬í˜„ì—ëŠ” `O(n log n)ì˜ ê³µê°„`ì´ í•„ìš”í•©ë‹ˆë‹¤. bookkeepingì— ì˜ë¦¬í•˜ë‹¤ë©´, ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë©”ëª¨ë¦¬ë¥¼ íê¸°í•˜ì—¬ `O(n)`ì— í•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

## ğŸ”‘Â Key points

- ë³‘í•© ì •ë ¬ì€ **ë¶„í• -ì •ë³µ ì•Œê³ ë¦¬ì¦˜**ì˜ ì¹´í…Œê³ ë¦¬ì— ì†í•œë‹¤.
- ë³‘í•© ì •ë ¬ì—ëŠ” ë§ì€ êµ¬í˜„ì´ ìˆìœ¼ë©°, êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¥¸ ì„±ëŠ¥ íŠ¹ì„±ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
